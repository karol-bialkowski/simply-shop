{% extends '@main/base.html.twig' %}

{% block body %}

    <article class="container">
        <h1 class="mt-4">Create new product</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem ipsam laudantium nobis. Molestiae possimus
            quibusdam voluptatem. Ab beatae cum eligendi ipsam, necessitatibus nesciunt officiis perspiciatis provident
            tempora tenetur ut vitae?</p>

        {{ form_start(form) }}

        <div class="form-group">
            {{ form_label(form.name, 'Product name') }}
            {{ form_widget(form.name, {'attr': {'class': 'form-control', 'maxlength': 255}}) }}
        </div>

        <div class="form-group">
            {{ form_label(form.description, 'Product description') }}
            {{ form_widget(form.description, {'attr': {'class': 'form-control', 'maxlength': 255}}) }}
            <small>Minimum 100 characters.</small>
        </div>

        <div class="form-group">
            {{ form_label(form.price, 'Price') }}
            {{ form_widget(form.price, {'attr': {'class': 'form-control decimal', 'maxlength': 8}}) }}
            <small>Provide PLN product price. <strong>Separator is "." (dot)</strong>. We auto calculate price for other
                available currencies on listing products.</small>
        </div>


        <div class="form-group">
            <button type="submit" class="btn btn-outline-info">Add new product</button>
        </div>

        <input type="hidden" name="token" value="{{ csrf_token('createProduct') }}"/>

        {{ form_end(form) }}


    </article>

{% endblock %}
{% block javascripts %}
    <!-- TODO: move this to separate js file and rewrite to ES6 -->
    <script type="text/javascript">
        $('.decimal').keypress(function (evt) {
            return (/^[0-9]*\.?[0-9]*$/).test($(this).val() + evt.key);
        });
    </script>
{% endblock %}